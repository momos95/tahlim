<p class="text-md-center">
    <ul class="pagination text-md-center">
        {% if pagination.page >= 1 %}
            <li {% if pagination.page == 1 %} class="page-item disabled" {% else %} class="page-item" {% endif %}><a class="page-link" href="{{ path(pagination.route,pagination.route_params|merge({'page': 1})) }}"><<</a></li>
            <li {% if pagination.page == 1 %} class="page-item disabled" {% else %} class="page-item" {% endif %}><a class="page-link" href="{{ path(pagination.route,pagination.route_params|merge({'page': pagination.page-1})) }}">Précédent</a></li>
        {% endif %}
        {#display p numbers only from p-4 to p+4 but don't go <1 or >pages_count#}
        {% for p in range(max(pagination.page-4, 1),
        min(pagination.page+4, pagination.pages_count)) %}
            <li {% if p == pagination.page %} class="page-item active" {% else %} class="page-item" {% endif %}>
                {% if p > 0 %}
                <a class="page-link"
                    href="{{ path(pagination.route,
                    pagination.route_params|merge({'page': p})) }}">{{ p }}</a>
                {% endif %}
            </li>
        {% endfor %}
        {% if pagination.page<=pagination.pages_count %}
            <li {% if pagination.page == pagination.pages_count %} class="page-item disabled" {% else %} class="page-item" {% endif %}><a class="page-link" href="{{ path(pagination.route,pagination.route_params|merge({'page': pagination.page+1})) }}">Suivant</a></li>
            <li {% if pagination.page == pagination.pages_count %} class="page-item disabled" {% else %} class="page-item" {% endif %}><a class="page-link" href="{{ path(pagination.route,pagination.route_params|merge({'page': pagination.pages_count})) }}">>></a></li>
        {% endif %}
    </ul>
<br>
</p>