{% extends "TKCoreBundle::layout.html.twig" %}

{% block title %}
    {{ parent() }} - Médiathèque
{% endblock %}

{% block body %}


    <div class="container-fluid" style="background: #e3e3e3; margin-top: 0px">

        {% include "TKMediaBundle:Mediatheque:submenu.html.twig" %}

        {% for message in app.session.flashbag.get('notice') %}
            {% include "TKCoreBundle::modal_ok.html.twig" %}
        {% endfor %}

        {% for message in app.session.flashbag.get('warning') %}
            {% include "TKCoreBundle::modal_ko.html.twig" %}
        {% endfor %}


        <div style="position: relative; display: inline-block;border:1px solid #CCC;background: #FFF;color:#666; width: 100% ; padding-top: 10px">

            <h3 class="text-primary text-center" >Modifier un Média</h3>
            <hr>

            <div class="center-block">

                {{ form_start(form,{'attr' : {'class' : 'form-horizontal'}}) }}


                <div class="row">
                    <div class="form-group col-lg-6">

                        {{ form_label(form.titre,"Titre : ",{'label_attr' : {'class': 'col-lg-12 control-label'}}) }}

                        <div class="col-lg-12">
                            {{ form_widget(form.titre,{'attr':{'class':'form-control','placeholder':'Titre de la vidéo'}}) }}
                        </div>

                        <div class="col-lg-12 text-danger">
                            {{ form_errors(form.titre) }}
                        </div>

                    </div>

                    <div class="form-group col-lg-6">

                        {{ form_label(form.type,"Type : ",{'label_attr' : {'class': 'col-lg-12 control-label'}}) }}

                        <div class="col-lg-12">
                            {{ form_widget(form.type,{'attr':{'class':'form-control'}}) }}
                        </div>

                        <div class="col-lg-12 text-danger">
                            {{ form_errors(form.type) }}
                        </div>

                    </div>

                    <div class="form-group col-lg-6">

                        {{ form_label(form.categorie,"Catégorie : ",{'label_attr' : {'class': 'col-lg-12 control-label'}}) }}

                        <div class="col-lg-12">
                            {{ form_widget(form.categorie,{'attr':{'class':'form-control'}}) }}
                        </div>

                        <div class="col-lg-12 text-danger">
                            {{ form_errors(form.categorie) }}
                        </div>

                    </div>


                    <div class="form-group col-lg-6">

                        {{ form_label(form.fichier,"Fichier : ",{'label_attr' : {'class': 'col-lg-12 control-label'}}) }}

                        <div class="col-lg-12">
                            {{ form_widget(form.fichier,{'attr':{'class':'form-control'}}) }}
                        </div>

                        <div class="col-lg-12 text-danger">
                            {{ form_errors(form.fichier) }}
                        </div>

                    </div>


                    <div class="form-group col-lg-12">

                        <p class="text-center">
                            {{ form_widget(form.Ajouter,{'attr':{'class':'btn btn-sm btn-primary col-lg-6 col-lg-offset-3'}}) }}
                        </p>

                    </div>

                    {{ form_rest(form) }}

                    {{ form_end(form) }}

                </div>

                <div id="loadingSpinner" style="display: none;" class="container">
                    <div class="row">
                        <div id="loader">
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="lading"></div>
                        </div>
                    </div>
                    <p class="text-center text-info"><i style="margin-top: 5px" class="fa fa-spinner fa-spin fa-3x fa-fw"></i> Chargement en cours</p>
                </div>
            </div>

        </div>

    </div>

    <script>
        $(document).on("click", "#tk_mediabundle_media_Ajouter", function(e){
            $('#loadingSpinner').show();
            document.getElementsByName("tk_mediabundle_media").submit();
        });
    </script>

{% endblock %}

